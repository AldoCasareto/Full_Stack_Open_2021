{"version":3,"sources":["components/Filter.js","components/Messages.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","search","handleFilter","value","onChange","Messages","notification","colorMessage","status","notificationStyle","color","background","fontSize","border","padding","console","log","style","message","PersonForm","handleSubmit","handleNewName","handleNewNumber","newName","newNumber","onSubmit","type","Persons","searchMatch","deleteContact","map","person","name","number","onClick","id","baseUrl","axios","get","then","res","data","newObject","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setNotification","fetchData","a","phoneService","allNotes","useEffect","filter","toLowerCase","includes","e","target","preventDefault","newNameInput","findMatch","find","updateOnlyNum","window","confirm","updatedContact","setTimeout","catch","error","createdContact","concat","matchContact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7c5e11fd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({search, handleFilter}) => {\n    return (\n      <div>\n        filter shown with <input value={search} onChange={handleFilter} />\n      </div>\n    );\n}\n\nexport default Filter\n","import React from 'react';\n\nconst Messages = ({ notification }) => {\n  if (!notification) return null;\n\n  const colorMessage = () => {\n    return notification.status === 'success' ? 'green' : 'red';\n  };\n\n  const notificationStyle = {\n    color: colorMessage(),\n    background: 'grey',\n    fontSize: 20,\n    border: `solid 5px ${colorMessage()}`,\n    padding: 10\n  };\n\n  console.log(notificationStyle);\n\n  return (\n    <div style={notificationStyle}>{notification && notification.message}</div>\n  );\n};\n\nexport default Messages;\n","import React from 'react'\n\nconst PersonForm = ({handleSubmit, handleNewName, handleNewNumber, newName,newNumber}) => {\n    return (\n      \n        <form onSubmit={handleSubmit}>\n          <div>\n            name: <input value={newName} onChange={handleNewName} />\n            number: <input value={newNumber} onChange={handleNewNumber} />\n          </div>\n          <div>\n            <button type='submit'>add</button>\n          </div>\n        </form>\n  \n    );\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ searchMatch, deleteContact }) => {\n  return (\n    <div>\n      <ul>\n        {searchMatch.map((person) => (\n          <li key={person.id}>\n            {person.name}-{person.number}\n            <button onClick={() => deleteContact(person.id, person.name)}>\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Persons\n","import axios from 'axios';\n\nconst baseUrl = 'api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((res) => res.data);\n};\n\nconst createContact = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((res) => res.data);\n};\n\nconst deleteContact = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((res) => res.data);\n};\n\nconst updateNumber = (id, newNumber) => {\n  const request = axios.put(`${baseUrl}/${id}`, newNumber);\n  return request.then((res) => res.data);\n};\n\nexport default { getAll, createContact, deleteContact, updateNumber };\n","import React, { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport Messages from './components/Messages';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport phoneService from './services/phonebook';\nimport './index.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [search, setSearch] = useState('');\n  const [notification, setNotification] = useState(null);\n\n  const fetchData = async () => {\n    await phoneService.getAll().then((allNotes) => {\n      setPersons(allNotes);\n      console.log(allNotes);\n      console.log(persons);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newNameInput = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const findMatch = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n\n    console.log(newName);\n    console.log(newNameInput);\n    console.log(findMatch);\n\n    if (findMatch) {\n      const updateOnlyNum = { ...findMatch, number: newNumber };\n      window.confirm(\n        `${findMatch.name} is already added to phonebook. Replace old number with new one?`\n      );\n      phoneService\n        .updateNumber(findMatch.id, updateOnlyNum)\n        .then((updatedContact) =>\n          setPersons(\n            persons.map((person) =>\n              person.id !== findMatch.id ? person : updatedContact\n            )\n          )\n        )\n        .then(() => {\n          setNotification({\n            message: `Number updated for ${newName}`,\n            status: `success`,\n          });\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setNotification({\n            message: `Information for ${newName} has already been removed from the server`,\n            status: 'error',\n          });\n        });\n      setTimeout(() => {\n        setNotification(null);\n      }, 4000);\n      setNewName('');\n      setNewNumber('');\n      return;\n    }\n\n    phoneService.createContact(newNameInput).then((createdContact) => {\n      setPersons(persons.concat(createdContact));\n      setNotification({\n        message: `Added ${newNameInput.name}`,\n        status: 'success',\n      });\n      setTimeout(() => {\n        setNotification(null);\n      }, 4000);\n      setNewName('');\n      setNewNumber('');\n    });\n  };\n\n  const deleteContact = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      const matchContact = persons.filter((person) => person.id !== id);\n      setNotification({\n        message: `Deleted ${name}`,\n        status: 'success',\n      });\n      setTimeout(() => {\n        setNotification(null);\n      }, 4000);\n      phoneService.deleteContact(id).then(setPersons(matchContact));\n    }\n  };\n\n  const searchMatch = persons.filter((person) =>\n    person.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleFilter = (e) => {\n    setSearch(e.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Messages notification={notification} />\n      <Filter handleFilter={handleFilter} search={search} />\n      <PersonForm\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        newName={newName}\n        newNumber={newNumber}\n        handleSubmit={handleSubmit}\n      />\n\n      <h2>Numbers</h2>\n      <Persons searchMatch={searchMatch} deleteContact={deleteContact} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}